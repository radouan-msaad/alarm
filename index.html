<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Radouan Alarme</title>
<link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
<link rel="stylesheet" type="text/css" href="bootstrap.min.css">
  <script type="text/javascript" src="jquery-1.11.3.min.js"></script> 
  <script type="text/javascript" src="jquery.mobile-1.4.5.min.js"></script>
   <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <style type="text/css">
    #btn{
    width:96%;
    color:red;
    font-size: 14px;
  }
  #btn:active{
    background-color: tomato;
    color:white
  }
  .res{
    font-size: 100px;
  }
  </style>
   <script type="text/javascript" >
  $(document).on("pagecreate","#page1",function(){
    var d=1;
    function sound(src) {
    this.sound = document.createElement("audio");
    this.sound.src = src;
    this.sound.setAttribute("preload", "auto");
    this.sound.setAttribute("controls", "none");
    this.sound.style.display = "none";
    document.body.appendChild(this.sound);
    this.play = function(){
      this.sound.play();
    }
    this.stop = function(){
      this.sound.pause();
      this.sound.currentTime = 0;
    }    
    this.pause = function(){
      this.sound.pause();
    }    
  }
  function isPlaying(audelem) {
    return !audelem.paused;
    }
    var a=1.2;
  var sound = new sound("remix2.mp3");
    $("#btn").click(function (){
let acl = new Accelerometer({frequency: 10});
acl.addEventListener('reading', () => {
  if(acl.x>=a||acl.x<=-a||acl.y<=-a||acl.y>=a)
  sound.play();
  else if(isPlaying(sound)){
 sound.stop();
  }
  $(".res").html("x="+(acl.x).toFixed(d)+"<br> y="+(acl.y).toFixed(d)+"<br> z="+(acl.z).toFixed(d));
});

acl.start();
  
});
});
</script>
  </head>
  <body>
    <div data-role="page" id="page1">
  <div data-role="header">
  <div class="col"><button id="btn" class="mx-3">start</button> </div>
  </div>
    <div data-role="main" class="ui-content">
    <div class="res alert alert-danger text-center"></div>
  </div>
</div>

</div>
  </body>
  </html>
  
